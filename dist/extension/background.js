!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=329)}({329:function(e,t,r){"use strict";r.r(t);var n=r(4);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.bookmarks={},this._watchpoints=[],this.searchMemType=null,this.cetusUrl=null,this._popupChannel=null,this._popupConnect(),this.popupData={initialized:!1,url:null,bookmarks:{},symbols:{},stackTraces:[],searchForm:{numStr:"int",inProgress:!1,value:"",type:null,comparison:"eq",valueType:"i32",rangeUpper:"",rangeLower:"",results:{count:0,object:{}}},patchForm:{funcIndex:null,funcBody:""},speedhack:{enabled:!1,multiplier:2},currentTab:"tabOne"},this.pendingSearch=!1,this.pendingFunctionIndex=null}var t,r,i;return t=e,(r=[{key:"_popupConnect",value:function(){void 0!==chrome.extension.onConnect?chrome.extension.onConnect.addListener((function(e){u._popupChannel=e,u._popupChannel.onMessage.addListener(s),u._popupChannel.onDisconnect.addListener(c)})):browser.runtime.onConnect.addListener((function(e){u._popupChannel=e,u._popupChannel.onMessage.addListener(s),u._popupChannel.onDisconnect.addListener(c)}))}},{key:"popupRestore",value:function(){this.sendPopupMessage("popupRestore",this.popupData)}},{key:"sendPopupMessage",value:function(e,t){if(null!==this._popupChannel){var r={type:e};void 0!==t&&(r.body=t);try{var a=Object(n.c)(r);this._popupChannel.postMessage(a)}catch(e){return}}}},{key:"passthruPopupMessage",value:function(e){if(null!==this._popupChannel){var t=Object(n.c)(e);this._popupChannel.postMessage(t)}}},{key:"reset",value:function(){this.popupData={initialized:!1,url:null,bookmarks:{},symbols:{},stackTraces:[],searchForm:{value:"",comparison:"eq",valueType:"i32",rangeUpper:"",rangeLower:"",results:{count:0,object:{}}},patchForm:{funcIndex:null,funcBody:""},speedhack:{multiplier:null},currentTab:"tabOne"},this.popupRestore()}},{key:"addBookmark",value:function(e,t){this.bookmarks[e]={value:0,memType:t,flags:0},this.updateBookmarks()}},{key:"removeBookmark",value:function(e){void 0!==this.bookmarks[e]&&(delete this.bookmarks[e],this.updateBookmarks(),this.removeWatchpoint(e))}},{key:"updateBookmarks",value:function(){var e={bookmarks:this.bookmarks};this.sendPopupMessage("updateBookmarks",e)}},{key:"updateWatchpoint",value:function(e,t,r){var o=this.bookmarks[e];if("object"!==a(o))throw new Error("Bad address "+e+" in updateWatchpoint()");var u=o.flags;u&r?u&=~r:u|=r,o.flags=u,o.value=t,this.bookmarks[e]=o;for(var i=o.memType,s=(Object(n.f)(i),Object(n.d)(t,i),null),c=0;c<1;c++)if(this._watchpoints[c]==e){s=c;break}if(null===s){for(;this._watchpoints.length>=1;){var p=this._watchpoints.shift();this.bookmarks[p].flags=0}this._watchpoints.push(e)}else 0==u&&this.removeWatchpoint(e);this._updateWatchpoints(),this.updateBookmarks()}},{key:"_updateWatchpoints",value:function(){for(var e=0;e<1;e++){var t=this._watchpoints[e],r={};if(void 0!==t){var a=this.bookmarks[t],o=a.memType,u=Object(n.d)(a.value,o),i=Object(n.f)(o);r.index=e,r.addr=t,r.value=u,r.size=i,r.flags=a.flags}else r.index=e,r.addr=0,r.value=0,r.size=0,r.flags=0;Object(n.j)("updateWatch",r)}}},{key:"removeWatchpoint",value:function(e){for(var t=0;t<1;t++)if(this._watchpoints[t]==e){this._watchpoints.splice(t,1),this._updateWatchpoints();break}}},{key:"addStackTrace",value:function(e){void 0===this.popupData.stackTraces&&(this.popupData.stackTraces=[]),this.popupData.stackTraces.push(e)}}])&&o(t.prototype,r),i&&o(t,i),e}(),s=function(e){var t=e.type,r=e.body;if("string"==typeof t)switch(t){case"popupConnected":u.popupRestore();break;case"search":var o={},i=r.param,s=r.memType,c=r.memAlign,p=r.compare,l=r.lower,f=r.upper;u.popupData.searchForm.inProgress=!0,u.popupData.searchForm.value=i,u.popupData.searchForm.valueType=s,u.popupData.searchForm.memAlign=c,u.popupData.searchForm.comparison=p,u.popupData.searchForm.rangeLower=l,u.popupData.searchForm.rangeUpper=f,o.param=i,o.memType=s,o.memAlign=c,o.compare=p,o.lower=l,o.upper=f,Object(n.j)("search",o),u.pendingSearch=!0;break;case"restartSearch":u.popupData.searchForm.inProgress=!1,u.popupData.searchForm.results.count=0,u.popupData.searchForm.results.object={},Object(n.j)("restartSearch");break;case"addBookmark":var m=r.memAddr,d=r.memType;u.addBookmark(m,d);break;case"removeBookmark":var b=r.memAddr;if(Object(n.a)(b))return;u.removeBookmark(b);break;case"modifyMemory":var h=r.memAddr,y=r.memValue,k=r.memType,v={memIndex:Object(n.i)(h,k),memValue:y,memType:k};Object(n.j)("modifyMemory",v);var g=u.bookmarks[h];if("object"!==a(g))return;g.value=y,u.bookmarks[h]=g,g.flags&&u.updateWatchpoint(h,y,0);break;case"updateWatchpoint":var j=r.memAddr,O=r.memValue,w=r.flags;u.updateWatchpoint(j,O,w);break;case"queryFunction":var T=r.index,_=r.lineNum;if("string"!=typeof T||Object(n.a)(T)||""===T)return;u.pendingFunctionIndex=T,"number"==typeof _?Object(n.j)("queryFunction",{index:T,lineNum:_}):Object(n.j)("queryFunction",{index:T});break;case"shToggle":var x=!u.popupData.speedhack.enabled;if(u.popupData.speedhack.enabled=x,0===r.multiplier)return Object(n.j)("shEnable",{multiplier:1});if(x){var D=r.multiplier;u.popupData.speedhack.multiplier=D,Object(n.j)("shEnable",{multiplier:D})}else Object(n.j)("shEnable",{multiplier:1});break;case"getCurrentBookmarks":for(var F=0,M=Object.keys(u.bookmarks);F<M.length;F++){var S=M[F],C=u.bookmarks[S].memType,P=Object(n.i)(S,C);Object(n.j)("queryMemory",{index:P,memType:C})}}},c=function(){u._popupChannel=null};u=new i,chrome.runtime.onMessage.addListener((function(e){var t=Object(n.b)(e),r=t.type,o=t.body;if("string"==typeof r)switch(r){case"init":if(u.popupData.initialized)return;var i=o.url,s=o.symbols;if("string"!=typeof i)return;if("object"!==a(s))return;u.popupData.initialized=!0,u.popupData.url=i,u.popupData.symbols=s,u.sendPopupMessage("init",{url:i,symbols:s});break;case"queryMemoryResult":var c=o.index,p=o.value,l=o.memType;if("number"!=typeof c||"number"!=typeof p||!Object(n.h)(l))return;var f=Object(n.g)(c,l);if("object"!==a(u.bookmarks[f]))return;u.bookmarks[f].value=p,u.updateBookmarks();break;case"searchResult":if(!u.pendingSearch)return;var m=o.count,d=o.results,b=o.memType;if("number"!=typeof m||"object"!==a(d)||!Object(n.h)(b))return;for(var h in d)if(Object(n.a)(h))return;u.popupData.searchForm.results.count=m,u.popupData.searchForm.results.object=d,u.popupData.searchForm.valueType=b,u.passthruPopupMessage(t),u.pendingSearch=!1;break;case"addBookmark":var y=o.index,k=o.memType;if("number"!=typeof y||!Object(n.h)(k))return;u.addBookmark(y,k);break;case"queryFunctionResult":if("object"!==a(o.bytes))return;var v=o.funcIndex;if(v!==u.pendingFunctionIndex)return;u.pendingFunctionIndex=null;var g=Object.values(o.bytes),j=new Uint8Array(g),O=o.lineNum;"number"==typeof O?u.sendPopupMessage("queryFunctionResult",{funcIndex:v,bytes:j,lineNum:O}):u.sendPopupMessage("queryFunctionResult",{funcIndex:v,bytes:j});break;case"watchPointHit":var w=o.stackTrace;if(0==Object.keys(u.bookmarks).length)return;if(!(w instanceof Array))return;for(var T=[],_=0;_<w.length;_++){var x=w[_],D=x.fileName,F=x.lineNumber;if("string"!=typeof D)return;if("number"!=typeof F){var M=D.lastIndexOf(":");if(-1===M||M>=D.length-1)return;F=D.substring(M+1)}var S={};S.fileName=D,S.lineNumber=F,T.push(S)}u.addStackTrace(T),u.sendPopupMessage("watchPointHit",{stackTrace:T});break;case"reset":u.reset(),u.sendPopupMessage("reset")}})),t.default=u},4:function(e,t,r){"use strict";r.d(t,"k",(function(){return o})),r.d(t,"e",(function(){return u})),r.d(t,"j",(function(){return s})),r.d(t,"h",(function(){return c})),r.d(t,"f",(function(){return p})),r.d(t,"g",(function(){return l})),r.d(t,"i",(function(){return f})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return b})),r.d(t,"a",(function(){return h}));var n=r(84),a=r.n(n),o=function(e){return"0x"+parseInt(e).toString(16).padStart(8,"0")},u=function(e,t){switch(t){case"i8":case"i16":case"i32":case"i64":return i(e);case"f32":case"f64":return e;default:throw new Error("Invalid memory type "+type+" in formatValue()")}},i=function(e){return e>4096?o(e):e},s=function(e,t){var r={type:e,body:t};chrome.tabs.query({active:!0},(function(e){if(0!==e.length)try{var t=e[0];chrome.tabs.sendMessage(t.id,r)}catch(e){return}else console.log("tabs empty")}))},c=function(e){switch(e){case"i8":case"i16":case"i32":case"f32":case"i64":case"f64":case"ascii":case"utf-8":case"bytes":return!0;default:return!1}},p=function(e){var t;switch(e){case"i8":case"ascii":case"bytes":t=1;break;case"i16":case"utf-8":t=2;break;case"i32":t=4;break;case"i64":t=8;break;case"f32":t=4;break;case"f64":t=8;break;default:throw new Error("Invalid memory type "+e+" in getElementSize()")}return t},l=function(e,t){return e*p(t)},f=function(e,t){var r=p(t);return Math.floor(e/r)},m=function(e,t){switch(t){case"i8":case"i16":case"i32":return e;case"f32":var r=new Float32Array([e]);return new Uint32Array(r.buffer)[0];case"i64":case"f64":default:throw new Error("Conversion "+t+" not implemented in convertToI32()")}},d=function(e){return JSON.parse(e,(function(e,t){return"string"==typeof t&&/^\d+n$/.test(t)?BigInt(t.slice(0,-1)):t}))},b=function(e){return JSON.stringify(e,(function(e,t){return"bigint"==typeof t?t.toString()+"n":t}))},h=function(e){return"bigint"!=typeof e&&a()(e)}},84:function(e,t){var r=Object.prototype.toString;e.exports=function(e){return function(e){return"number"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Number]"==r.call(e)}(e)&&e!=+e}}});